{% extends 'mobile/base.html' %}
{% load staticfiles %}

{% block head %}
<link rel="stylesheet" href="{% static "utils/swiper/swiper-3.4.2.min.css" %}">
<link rel="stylesheet" href="{% static "mobile/css/home/index.css" %}">
{% endblock %}

{% block body %}
<div onclick="window.location.href='//ffjy.org/m/article/%E5%85%A8%E5%9B%BD%E7%8F%AD/'" class="header" style="background:url('{% static "mobile/img/home/banner.jpeg" %}');background-size:cover">
  <div class="player-video">
    <div class="open">
    </div>
    <div class="player">
      <div class="mask"></div>
      <div class="close"></div>
      <div class="video">
        <video controls="" preload="none" poster="{% static "mobile/img/play/play_poster.jpeg" %}">
          <source src="http://ffwebsite.ffjy.org/%E6%88%90%E7%89%871080P.mp4" type="video/mp4">
        </video>
      </div>
    </div>
  </div>
  <style>
    .header { position: relative; z-index: 15; }
    .player-video { position: absolute; left: 0; right: 0; top: 0; bottom: 0; }
    .player-video .open { background: url("{% static "mobile/img/play/icon_play.png" %}") no-repeat; background-size: 1.15rem 1.15rem; position: absolute; width: 1.15rem; height: 1.15rem; left: 50%; top: 50%; transform: translate(-50%, -50%); }
    .player-video .player { transition: transform .3s; transform: translateX(-100%); z-index: 15; position: fixed; left: 0; right: 0; top: 0; bottom: 0; }
    .player-video .player.active { transform: translateX(0); }
    .player-video .player .mask { position: absolute; left: 0; right: 0; top: 0; bottom: 0; background-color: rgba(0, 0, 0, .76); }
    .player-video .player .close { background: url("{% static "mobile/img/play/icon_play_close.png" %}") no-repeat; background-size: .59rem .59rem; position: absolute; width: .59rem; height: .59rem; right: .27rem; top: .27rem; }
    .player-video .player .video { position: absolute; z-index: 1; width: 100%; top: 30%; }
  </style>
  <div class="menu">
    <ul>
      <li>
        <a href="{% url 'category_by_title' '高考冲刺' %}">
          <i class="icon gkcj hot"></i>
          <p>高考冲刺</p>
        </a>
      </li>
      <li>
        <a href="{% url 'article_by_title' '选考冲刺' %}">
          <i class="icon xkcj"></i>
          <p>选考冲刺</p>
        </a>
      </li>
      <li>
        <a href="//myfz.ffjy.org">
          <i class="icon myfz hot"></i>
          <p>美院附中</p>
        </a>
      </li>
      <li>
        <!-- <a href="{% url 'article_by_title' '小凡公学' %}"> -->
        <a href="http://www.vanschool.cn/">
          <i class="icon xfgx"></i>
          <p>小凡公学</p>
        </a>
      </li>
      <li>
        <a href="{% url 'category_by_title' '非凡战绩' %}">
          <i class="icon ffcj"></i>
          <p>非凡成绩</p>
        </a>
      </li>
      <li>
        <a href="{% url 'category_by_title' '优秀学员' %}">
          <i class="icon yxxy"></i>
          <p>优秀学员</p>
        </a>
      </li>
      <li>
        <a href="{% url 'category_by_title' '校区介绍' %}">
          <i class="icon xqjs"></i>
          <p>校区介绍</p>
        </a>
      </li>
      <li>
        <a href="{% url 'article_by_title' '关于非凡' %}">
          <i class="icon gyff"></i>
          <p>关于非凡</p>
        </a>
      </li>
    </ul>
    <style>
      .header .menu ul li .icon {
        position: relative;
        border-radius: 50%;
      }
      .header .menu ul li .icon.hot:after {
        position: absolute;
        content: '';
        width: .48rem;
        height: .48rem;
        background: url("{% static "mobile/img/home/hot.png" %}") no-repeat;
        background-size: .48rem .48rem;
        right: 0;
        top: 0;
        transform: translate(35%, -30%);
      }
    </style>
  </div>
</div>
<div class="main">
  <!-- 课程产品 -->
  <!-- 暂时不显示
  <div class="banner">
    <ul>
      {% for article in categories.课程产品 %}
      <li>
        <a href="{% url 'article' article.id %}">
          <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="" class="lazyload">
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>
  -->
  <!-- 非凡头条 -->
  <div class="top-article">
    <h2>
      非凡头条
      <a href="category/非凡头条">
        看看非凡最近都发生了什么 >
      </a>
    </h2>
    <ul class="articles">
      {% for article in categories.非凡头条 %}
      <li>
        <a href="{% url 'article' article.id %}">
          <p>
            {{article.desc}}
          </p>
          <div class="img-wrap">
            <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="" class="lazyload">
          </div>
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <!-- 课程产品 -->
  <div class="banner">
    <ul>
      <li>
        <a href="{% url 'article_by_title' '全国班' %}">
          <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static 'mobile/img/products/qgbgkccy.jpg' %}" alt="" class="lazyload">
        </a>
      </li>
      <li>
        <a href="{% url 'article_by_title' '浙江班' %}">
          <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static 'mobile/img/products/zjbgkccy.jpg' %}" alt="" class="lazyload">
        </a>
      </li>
      <li>
        <a href="//myfz.ffjy.org">
          <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static 'mobile/img/products/myfz.jpg' %}" alt="" class="lazyload">
        </a>
      </li>
    </ul>
  </div>
  <!-- 非凡战绩 -->
  <div class="ff-score">
    <h2>非凡战绩</h2>
    <div class="st-container">
      <div class="swiper-wrapper">
        {% for article in categories.非凡战绩 %}
        <a href="{% url 'category_by_title' '非凡战绩' %}?article_id={{article.id}}" class="swiper-slide">
          <div class="img">
            <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="" class="lazyload">
          </div>
          <p class="name">{{ article.title }}</p>
        </a>
        {% endfor %}
      </div>
    </div>
  </div>
  <!-- 非凡名师 -->
  <div class="ff-teacher">
      <h2>
        非凡名师
        <a href="{% url 'category_by_title' '非凡名师' %}">更多 ></a>
      </h2>
      <div class="st-container">
        <div class="swiper-wrapper">
          {% for article in categories.非凡名师 %}
          <a href="{% url 'article' article.id %}" class="swiper-slide">
            <div class="img">
              <i class="label">{{ article.tags.all.0 }}</i>
              <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="" class="lazyload">
            </div>
            <p class="name">{{ article.title }}</p>
          </a>
          {% endfor %}
        </div>
      </div>
  </div>
  <!-- 非凡校区 -->
  <div class="ff-school">
    <h2>非凡校区</h2>
    <div class="school-container">
      <div class="swiper-wrapper">
        {% for article in categories.校区介绍 %}
        <a href="{% url 'category_by_title' '校区介绍' %}?article_id={{article.pk}}" class="swiper-slide">
          <div class="img">
            <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="" class="lazyload">
          </div>
          <p class="name">{{ article.title }}</p>
        </a>
        {% endfor %}
      </div>
    </div>
  </div>
  <!-- 优秀学员 -->
  <div class="ff-student">
      <h2>
        优秀学员
        <a href="category/优秀学员">更多 ></a>
      </h2>
      <div class="st-container">
        <div class="swiper-wrapper">
          {% for article in categories.优秀学员 %}
          <a href="{% url 'article' article.id %}" class="swiper-slide">
            <div class="img">
              <i class="label">{{ article.tags.all.0 }}</i>
              <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="" class="lazyload">
            </div>
            <p class="name">{{ article.title }}</p>
          </a>
          {% endfor %}
        </div>
      </div>
  </div>
  <div class="ff-ads">
    <!-- 为什么选择非凡 -->
    <div class="ad-why">
      <p>
        <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static "mobile/img/home/ad01.png" %}" class="lazyload">
        <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static "mobile/img/home/ad02.png" %}" class="lazyload">
        <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static "mobile/img/home/ad03.png" %}" class="lazyload">
        <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{% static "mobile/img/home/ad04.png" %}" class="lazyload">
      </p>
    </div>
    <!-- 礼包 -->
    <div class="ad-free">
      <div class="ad-free-header">
        <p class="sub-title">非凡贴心服务</p>
        <h2>资料免费领取</h2>
      </div>
      {% for article in categories.礼包 %}
      <div class="item">
        <a href="{% url 'article' article.id %}" class="swiper-slide">
          <img src="{% static "mobile/img/common/placeholder.svg" %}" data-src="{{ article.cover.url }}" alt="{{ article.title }}" class="lazyload">
        </a>
      </div>
      {% endfor %}
    </div>
  </div>
  <div class="footer">
    Copyright &copy; 2016 - 2019 杭州小凡教育科技有限公司 <br>
    浙IPC备12001281号
  </div>
</div>

{% endblock %}

{% block foot %}
{% include "mobile/_nav.html" with active_link='home' %}
<script src="{% static "utils/swiper/swiper-3.4.2.min.js" %}"></script>
<script src="{% static "mobile/js/home/index.js" %}"></script>
<script>
  ;(function($) {
    var player = $('.player-video');
    player.find('.open').on('click', function() {
      player.find('.player').addClass('active')
    });
    player.find('.close').on('click', function() {
      player.find('.player').removeClass('active')
      player.find('video')[0].pause();
    })
  })(Zepto);
</script>
{% endblock %}
